@model WirtualnaUczelnia.Models.Building

@{
    ViewData["Title"] = $"Szczegó³y budynku {Model.Symbol}";
}

<h1 tabindex="0">Szczegó³y budynku</h1>

<div class="card shadow-sm">
    <div class="card-header bg-primary text-white">
        <h2 class="h4 mb-0" tabindex="0">
            <i class="bi bi-building" aria-hidden="true"></i> 
            @Model.Name (Symbol: @Model.Symbol)
        </h2>
    </div>
    <div class="card-body">
        <!-- Status widocznoœci -->
        <div class="mb-3">
            @if (Model.IsHidden)
            {
                <span class="badge bg-secondary fs-6" tabindex="0">
                    <i class="bi bi-eye-slash" aria-hidden="true"></i> Budynek ukryty
                </span>
                <p class="text-muted small mt-1" tabindex="0">
                    Ten budynek nie jest widoczny dla u¿ytkowników na stronie g³ównej.
                </p>
            }
            else
            {
                <span class="badge bg-success fs-6" tabindex="0">
                    <i class="bi bi-eye" aria-hidden="true"></i> Budynek widoczny
                </span>
            }
        </div>

        <dl class="row">
            <dt class="col-sm-3" tabindex="0">Symbol budynku:</dt>
            <dd class="col-sm-9" tabindex="0">
                <span class="badge bg-warning text-dark fs-5">@Model.Symbol</span>
            </dd>

            <dt class="col-sm-3" tabindex="0">Pe³na nazwa:</dt>
            <dd class="col-sm-9" tabindex="0">@Model.Name</dd>

            <dt class="col-sm-3" tabindex="0">Opis:</dt>
            <dd class="col-sm-9" tabindex="0">@(Model.Description ?? "Brak opisu")</dd>

            <dt class="col-sm-3" tabindex="0">Tekst alternatywny:</dt>
            <dd class="col-sm-9" tabindex="0">
                @if (!string.IsNullOrEmpty(Model.ImageAltText))
                {
                    <span class="text-success">
                        <i class="bi bi-check-circle" aria-hidden="true"></i> @Model.ImageAltText
                    </span>
                }
                else
                {
                    <span class="text-warning">
                        <i class="bi bi-exclamation-triangle" aria-hidden="true"></i> Nie ustawiono (zalecane dla dostêpnoœci)
                    </span>
                }
            </dd>
        </dl>

        @if (!string.IsNullOrEmpty(Model.ImageFileName))
        {
            <div class="mb-3">
                <strong tabindex="0">Zdjêcie budynku:</strong>
                <div class="mt-2">
                    <img src="~/images/@Model.ImageFileName" 
                         class="img-fluid rounded shadow-sm" 
                         style="max-height: 300px;" 
                         alt="@(Model.ImageAltText ?? $"Zdjêcie budynku {Model.Name}")"
                         tabindex="0" />
                </div>
                <small class="text-muted" tabindex="0">Plik: @Model.ImageFileName</small>
            </div>
        }
        else
        {
            <div class="alert alert-secondary" role="status" tabindex="0">
                <i class="bi bi-image" aria-hidden="true"></i> Brak zdjêcia dla tego budynku
            </div>
        }

        <div class="d-flex flex-wrap gap-2 mt-3">
            <a asp-action="Edit" asp-route-id="@Model.Id" class="btn btn-warning"
               aria-label="Edytuj budynek @Model.Symbol - @Model.Name">
                <i class="bi bi-pencil" aria-hidden="true"></i> Edytuj
            </a>
            <a asp-action="Index" class="btn btn-secondary"
               aria-label="Wróæ do listy budynków">
                <i class="bi bi-arrow-left" aria-hidden="true"></i> Wróæ do listy
            </a>
            @if (!Model.IsHidden)
            {
                <a asp-controller="Explore" asp-action="StartInBuilding" asp-route-buildingId="@Model.Id" 
                   class="btn btn-primary"
                   aria-label="WejdŸ wirtualnie do budynku @Model.Symbol">
                    <i class="bi bi-box-arrow-in-right" aria-hidden="true"></i> WejdŸ wirtualnie
                </a>
            }
        </div>
    </div>
</div>
